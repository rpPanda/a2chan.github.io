$text-black: #262626;

.section--3 {
    position: relative;

    .how-we-do {
        position: relative;
        width: 90%;
        margin: auto;

        > .title {
            position: relative;
            font-family: "Poppins", sans-serif;
            @include res-font-size(42, 72);
            text-align: right;
            margin: 0 0 10vh 0;
            color: rgba($color: $primary-red, $alpha: 1);
            font-weight: 600;

            @include mq_sp() {
                text-align: center;
                margin: 0 0 5vh 0;
            }

            @include mq_rest {
                text-align: center;
                margin: 0 0 5vh 0;
            }
        }

        .cards {
            position: relative;
            display: flex;
            flex-direction: column;
            margin: auto;

            @include mq_dl {
                width: 80%;
            }

            @include mq_custom(1000px, 1224px) {
                width: 90%;
            }

            @include mq_custom(480px, 1000px) {
                width: 75%;
            }

            .card {
                position: relative;
                display: grid;

                @include mq_dl {
                    grid-gap: 6rem;
                    padding: 4rem;

                    &:nth-child(odd) {
                        grid-template-columns: repeat(3, 1fr);

                        .content {
                            grid-column: 1/3;
                            grid-row: 1/2;
                        }

                        .image {
                            grid-column: 3/4;
                            grid-row: 1/2;
                        }
                    }

                    &:nth-child(even) {
                        grid-template-columns: repeat(3, 1fr);

                        .content {
                            grid-column: 2/4;
                            grid-row: 1/2;
                        }

                        .image {
                            grid-column: 1/2;
                            grid-row: 1/2;
                        }
                    }
                }

                @include mq_custom(1000px, 1224px) {
                    grid-gap: 6rem;
                    padding: 4rem;

                    &:nth-child(odd) {
                        grid-template-columns: repeat(3, 1fr);

                        .content {
                            grid-column: 1/3;
                            grid-row: 1/2;
                        }

                        .image {
                            grid-column: 3/4;
                            grid-row: 1/2;
                        }
                    }

                    &:nth-child(even) {
                        grid-template-columns: repeat(3, 1fr);

                        .content {
                            grid-column: 2/4;
                            grid-row: 1/2;
                        }

                        .image {
                            grid-column: 1/2;
                            grid-row: 1/2;
                        }
                    }
                }

                @include mq_custom(480px, 1000px) {
                    margin: 2rem 0;
                    grid-template-columns: 1fr;
                    grid-template-rows: max-content 1fr;

                    .image {
                        grid-row: 1/2;
                        grid-column: 1/2;
                        justify-self: flex-end;
                    }

                    .content {
                        justify-self: flex-start;
                    }
                }

                @include mq_sp() {
                    margin: 2rem 0;
                    grid-template-columns: 1fr;
                    grid-template-rows: max-content 1fr;

                    .image {
                        grid-row: 1/2;
                        grid-column: 1/2;
                        justify-self: flex-end;
                    }

                    .content {
                        justify-self: flex-start;
                    }
                }

                .content {
                    position: relative;
                    color: $text-black;
                    font-family: "Poppins", sans-serif;

                    @include mq_dl {
                        display: grid;
                        grid-template-columns: max-content 1fr;
                        grid-template-rows: max-content 1fr;

                        .title {
                            grid-row: 1/2;
                            grid-column: 1/2;
                        }

                        .desc {
                            grid-row: 2/3;
                            grid-column: 2/3;
                        }
                    }

                    @include mq_custom(1000px, 1224px) {
                        display: grid;
                        grid-template-columns: max-content 1fr;
                        grid-template-rows: max-content 1fr;

                        .title {
                            grid-row: 1/2;
                            grid-column: 1/2;
                        }

                        .desc {
                            grid-row: 2/3;
                            grid-column: 2/3;
                        }
                    }

                    @include mq_custom(480px, 1000px) {
                        display: flex;
                        flex-direction: column;
                    }

                    @include mq_sp() {
                        display: flex;
                        flex-direction: column;
                    }

                    .title {
                        position: relative;
                        @include res-font-size(36, 72);
                    }

                    .desc {
                        position: relative;
                        @include res-font-size(16, 20);
                    }
                }

                .image {
                    position: relative;

                    img {
                        height: 100%;
                    }

                    @include mq_dl() {
                        height: 300px;
                    }

                    @include mq_custom(1000px, 1224px) {
                        height: 200px;
                    }

                    @include mq_custom(480px, 1000px) {
                        height: 150px;
                    }

                    @include mq_sp() {
                        height: 100px;
                    }
                }

                .mask {
                    position: absolute;
                    opacity: 0.1;
                    height: 450px;
                    width: 450px;

                    @include mq_dl() {
                        &--1 {
                            top: -15%;
                            left: 0;
                        }

                        &--2 {
                            right: 0;
                            top: -15%;
                        }

                        &--3 {
                            left: -25%;
                            height: 600px;
                        }

                        &--4 {
                            right: -30%;
                            top: 30%;
                            height: auto !important;
                            width: 500px !important;
                        }
                    }

                    @include mq_custom(1000px, 1224px) {
                        &--1 {
                            top: -15%;
                            left: 0;
                        }

                        &--2 {
                            right: 0;
                            top: -15%;
                        }

                        &--3 {
                            left: -25%;
                            height: 600px;
                        }

                        &--4 {
                            right: -30%;
                            top: 30%;
                            height: auto !important;
                            width: 500px !important;
                        }
                    }

                    @include mq_custom(480px, 1000px) {
                        left: -15vw;
                        top: 50%;
                        height: 150px;
                        width: 150px;
                    }

                    @include mq_sp() {
                        left: -15vw;
                        top: 50%;
                        height: 150px;
                        width: 150px;
                    }
                }
            }
        }
    }
}
